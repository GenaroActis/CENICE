{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\educa informatica\\\\Documents\\\\GitHub\\\\ceni0-reactjs\\\\src\\\\context\\\\CartContext.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext([]);\nconst CartProvider = props => {\n  _s();\n  const [productosElegidos, setProductosElegidos] = useState([]);\n  const itemEnCarrito = productosElegidos.find(prod => {\n    return prod.id == product.id;\n  });\n  const agregarProducto = () => {\n    if (itemEnCarrito) {\n      let itemParaActualizar = itemEnCarrito;\n      let precioParaActualizar = itemParaActualizar.precio;\n      itemParaActualizar.elegidos = itemParaActualizar.elegidos + 1;\n      itemParaActualizar.precioSubTotal = itemParaActualizar.elegidos * precioParaActualizar;\n      atag.innerHTML = itemParaActualizar.elegidos;\n      console.log(productosElegidos);\n      console.log(productoParaActualizar);\n    }\n    // si el elemento no existe ya en el array productosElegidos que....\n    else {\n      productosElegidos.push({\n        id: producto.id,\n        nombre: producto.nombre,\n        precio: producto.precio,\n        img1: producto.img1,\n        img2: producto.img2,\n        precioSubTotal: producto.precioSubTotal,\n        elegidos: 1\n      });\n    }\n    ;\n  };\n  const limpiarCarrito = () => {\n    productosElegidos = [];\n    window.sessionStorage.clear();\n  };\n  const eliminarItem = () => {\n    let itemParaActualizar = itemEnCarrito;\n    if (itemParaActualizar.elegidos < 2) {\n      const prodId = id;\n      productosElegidos = productosElegidos.filter(product => product.id !== prodId);\n      itemParaActualizar.elegidos = 0;\n    } else {\n      let itemParaActualizar = itemEnCarrito;\n      itemParaActualizar.elegidos = itemParaActualizar.elegidos - 1;\n      let precioParaActualizar = itemParaActualizar.precio;\n      itemParaActualizar.precioSubTotal = itemParaActualizar.elegidos * precioParaActualizar;\n    }\n    ;\n  };\n  const totalPrecio = () => {\n    const totalPrecio = productosElegidos.reduce((acumulador, product) => acumulador + product.precioSubTotal, 0);\n  };\n  const totalCantidad = () => {\n    const totalPrecio = productosElegidos.reduce((acumulador, product) => acumulador + product.elegidos, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      Items,\n      limpiarCarrito,\n      itemEnCarrito,\n      eliminarItem,\n      totalPrecio,\n      totalCantidad,\n      agregarProducto\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(CartProvider, \"qyuX8ryJZDvohXqyeVR+6MsaxOg=\");\n_c = CartProvider;\nexport { CartProvider };\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","CartContext","CartProvider","props","productosElegidos","setProductosElegidos","itemEnCarrito","find","prod","id","product","agregarProducto","itemParaActualizar","precioParaActualizar","precio","elegidos","precioSubTotal","atag","innerHTML","console","log","productoParaActualizar","push","producto","nombre","img1","img2","limpiarCarrito","window","sessionStorage","clear","eliminarItem","prodId","filter","totalPrecio","reduce","acumulador","totalCantidad","Items","children"],"sources":["C:/Users/educa informatica/Documents/GitHub/ceni0-reactjs/src/context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useState } from 'react'\r\n\r\nconst CartContext = createContext([]);\r\n\r\nconst CartProvider = (props) =>{\r\n\r\n    const [productosElegidos, setProductosElegidos] = useState([])\r\n\r\n    const itemEnCarrito = productosElegidos.find((prod) =>{\r\n        return prod.id == product.id\r\n    });\r\n\r\n    const agregarProducto = () => {\r\n        if (itemEnCarrito){\r\n            let itemParaActualizar = itemEnCarrito\r\n            let precioParaActualizar = itemParaActualizar.precio;\r\n            itemParaActualizar.elegidos = itemParaActualizar.elegidos + 1;\r\n            itemParaActualizar.precioSubTotal = itemParaActualizar.elegidos * precioParaActualizar;\r\n            atag.innerHTML =  itemParaActualizar.elegidos;\r\n            console.log(productosElegidos);\r\n            console.log(productoParaActualizar);\r\n    }\r\n    // si el elemento no existe ya en el array productosElegidos que....\r\n    else{\r\n        productosElegidos.push({\r\n            id : producto.id,\r\n            nombre : producto.nombre,\r\n            precio : producto.precio,\r\n            img1 : producto.img1,\r\n            img2 : producto.img2,\r\n            precioSubTotal : producto.precioSubTotal,\r\n            elegidos : 1,\r\n            });\r\n        };\r\n    };\r\n\r\n    const limpiarCarrito = () => {\r\n        productosElegidos= [];\r\n        window.sessionStorage.clear();\r\n    };\r\n\r\n    const eliminarItem = () => {\r\n        let itemParaActualizar = itemEnCarrito\r\n        if (itemParaActualizar.elegidos < 2 ){\r\n            const prodId = id\r\n            productosElegidos = productosElegidos.filter((product) => product.id !== prodId);\r\n            itemParaActualizar.elegidos = 0;\r\n        }\r\n        else {\r\n            let itemParaActualizar = itemEnCarrito\r\n            itemParaActualizar.elegidos = itemParaActualizar.elegidos - 1;\r\n            let precioParaActualizar = itemParaActualizar.precio;\r\n            itemParaActualizar.precioSubTotal = itemParaActualizar.elegidos * precioParaActualizar;\r\n        };\r\n    };\r\n\r\n    const totalPrecio = () => {\r\n        const totalPrecio = productosElegidos.reduce((acumulador, product) => acumulador + product.precioSubTotal, 0);\r\n    };\r\n\r\n    const totalCantidad = () => {\r\n        const totalPrecio = productosElegidos.reduce((acumulador, product) => acumulador + product.elegidos, 0);\r\n    };\r\n\r\n    return(\r\n        <CartContext.Provider value={{Items, limpiarCarrito, itemEnCarrito,  eliminarItem, totalPrecio, totalCantidad, agregarProducto}}>\r\n        {props.children}\r\n        </CartContext.Provider>\r\n    )\r\n}\r\n\r\nexport {CartProvider}\r\nexport default CartContext       "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAAA;AAEtD,MAAMC,WAAW,gBAAGF,aAAa,CAAC,EAAE,CAAC;AAErC,MAAMG,YAAY,GAAIC,KAAK,IAAI;EAAA;EAE3B,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAE9D,MAAMM,aAAa,GAAGF,iBAAiB,CAACG,IAAI,CAAEC,IAAI,IAAI;IAClD,OAAOA,IAAI,CAACC,EAAE,IAAIC,OAAO,CAACD,EAAE;EAChC,CAAC,CAAC;EAEF,MAAME,eAAe,GAAG,MAAM;IAC1B,IAAIL,aAAa,EAAC;MACd,IAAIM,kBAAkB,GAAGN,aAAa;MACtC,IAAIO,oBAAoB,GAAGD,kBAAkB,CAACE,MAAM;MACpDF,kBAAkB,CAACG,QAAQ,GAAGH,kBAAkB,CAACG,QAAQ,GAAG,CAAC;MAC7DH,kBAAkB,CAACI,cAAc,GAAGJ,kBAAkB,CAACG,QAAQ,GAAGF,oBAAoB;MACtFI,IAAI,CAACC,SAAS,GAAIN,kBAAkB,CAACG,QAAQ;MAC7CI,OAAO,CAACC,GAAG,CAAChB,iBAAiB,CAAC;MAC9Be,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAC;IAC3C;IACA;IAAA,KACI;MACAjB,iBAAiB,CAACkB,IAAI,CAAC;QACnBb,EAAE,EAAGc,QAAQ,CAACd,EAAE;QAChBe,MAAM,EAAGD,QAAQ,CAACC,MAAM;QACxBV,MAAM,EAAGS,QAAQ,CAACT,MAAM;QACxBW,IAAI,EAAGF,QAAQ,CAACE,IAAI;QACpBC,IAAI,EAAGH,QAAQ,CAACG,IAAI;QACpBV,cAAc,EAAGO,QAAQ,CAACP,cAAc;QACxCD,QAAQ,EAAG;MACX,CAAC,CAAC;IACN;IAAC;EACL,CAAC;EAED,MAAMY,cAAc,GAAG,MAAM;IACzBvB,iBAAiB,GAAE,EAAE;IACrBwB,MAAM,CAACC,cAAc,CAACC,KAAK,EAAE;EACjC,CAAC;EAED,MAAMC,YAAY,GAAG,MAAM;IACvB,IAAInB,kBAAkB,GAAGN,aAAa;IACtC,IAAIM,kBAAkB,CAACG,QAAQ,GAAG,CAAC,EAAE;MACjC,MAAMiB,MAAM,GAAGvB,EAAE;MACjBL,iBAAiB,GAAGA,iBAAiB,CAAC6B,MAAM,CAAEvB,OAAO,IAAKA,OAAO,CAACD,EAAE,KAAKuB,MAAM,CAAC;MAChFpB,kBAAkB,CAACG,QAAQ,GAAG,CAAC;IACnC,CAAC,MACI;MACD,IAAIH,kBAAkB,GAAGN,aAAa;MACtCM,kBAAkB,CAACG,QAAQ,GAAGH,kBAAkB,CAACG,QAAQ,GAAG,CAAC;MAC7D,IAAIF,oBAAoB,GAAGD,kBAAkB,CAACE,MAAM;MACpDF,kBAAkB,CAACI,cAAc,GAAGJ,kBAAkB,CAACG,QAAQ,GAAGF,oBAAoB;IAC1F;IAAC;EACL,CAAC;EAED,MAAMqB,WAAW,GAAG,MAAM;IACtB,MAAMA,WAAW,GAAG9B,iBAAiB,CAAC+B,MAAM,CAAC,CAACC,UAAU,EAAE1B,OAAO,KAAK0B,UAAU,GAAG1B,OAAO,CAACM,cAAc,EAAE,CAAC,CAAC;EACjH,CAAC;EAED,MAAMqB,aAAa,GAAG,MAAM;IACxB,MAAMH,WAAW,GAAG9B,iBAAiB,CAAC+B,MAAM,CAAC,CAACC,UAAU,EAAE1B,OAAO,KAAK0B,UAAU,GAAG1B,OAAO,CAACK,QAAQ,EAAE,CAAC,CAAC;EAC3G,CAAC;EAED,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACuB,KAAK;MAAEX,cAAc;MAAErB,aAAa;MAAGyB,YAAY;MAAEG,WAAW;MAAEG,aAAa;MAAE1B;IAAe,CAAE;IAAA,UAC/HR,KAAK,CAACoC;EAAQ;IAAA;IAAA;IAAA;EAAA,QACQ;AAE/B,CAAC;AAAA,GAjEKrC,YAAY;AAAA,KAAZA,YAAY;AAmElB,SAAQA,YAAY;AACpB,eAAeD,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}